import { HttpClient } from '@angular/common/http';
import { Injectable } from '@angular/core';
import { VulnerabilityFound } from '../common/vulnerability-found';
import { Observable, map } from 'rxjs';

@Injectable({
  providedIn: 'root'
})
export class VulnerabilityFoundService {


  baseUrl = 'http://localhost:8081/vulnerabilityfound';
  constructor(private httpClient:HttpClient,) { }


  getVulnerability(id: number){

    return this.httpClient.get(this.baseUrl);
    
    //  return this.httpClient.get<GetResponse>(this.baseUrl).pipe(
    //    map(response => console.log(response))
       //response._embedded.vulnerabilityfound
     //)
  }

addNewVulnerability(form: FormData){
  return this.httpClient.post(this.baseUrl,form);
}


}
interface GetResponse {
  _embedded: {
    vulnerabilityfound: VulnerabilityFound;
  },
page: {
  size: number,
  totalElements: number,
  totalPages: number,
  number: number
}
}
